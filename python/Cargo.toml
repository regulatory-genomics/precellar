[package]
name = "precellar-py"
version = "0.1.0"
edition = "2021"

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html
[lib]
name = "precellar"
crate-type = ["cdylib"]

[dependencies]
anyhow = "1.0"
bwa = { git = "https://github.com/regulatory-genomics/bwa-rust.git", rev = "6c2da03c579d8e9cc1e6cd0e9a56bb79ba23b587" }
bstr = "1.0"
either = "1.13"
itertools = "0.13"
precellar = { path = "../precellar" }
noodles = { version = "0.80", features = ["core", "fastq", "bam", "sam"] }
pyo3-log = "0.11"

[dependencies.pyo3]
version = "0.22.0"
features = ["anyhow"]

[target.'cfg(not(target_env = "msvc"))'.dependencies]
tikv-jemallocator = {version = "0.6", features = ["disable_initial_exec_tls"]}